<template>
  <div class="regex-tutorial bg-gray-900 text-white p-6 rounded-lg">
    <div class="flex items-center space-x-3 mb-6">
      <span class="text-3xl">ğŸ”</span>
      <div>
        <h2 class="text-2xl font-bold text-cyan-400">æ­£åˆ™è¡¨è¾¾å¼ä¸“é¡¹æ•™å­¦</h2>
        <p class="text-gray-300">å¯è§†åŒ–å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼çš„æ ¸å¿ƒæ¦‚å¿µå’Œåº”ç”¨</p>
      </div>
    </div>

    <!-- å­¦ä¹ æ¨¡å—é€‰æ‹© -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-yellow-400 mb-3">ğŸ“š å­¦ä¹ æ¨¡å—</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <button 
          @click="setModule('basics')"
          :class="['p-4 rounded-lg transition-all border-2', 
                   currentModule === 'basics' ? 'bg-blue-600 border-blue-400 text-white' : 'bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600']"
        >
          <div class="text-2xl mb-2">ğŸ”¤</div>
          <div class="text-sm font-semibold">åŸºç¡€è¯­æ³•</div>
        </button>
        <button 
          @click="setModule('charclass')"
          :class="['p-4 rounded-lg transition-all border-2', 
                   currentModule === 'charclass' ? 'bg-green-600 border-green-400 text-white' : 'bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600']"
        >
          <div class="text-2xl mb-2">ğŸ“</div>
          <div class="text-sm font-semibold">å­—ç¬¦ç±»</div>
        </button>
        <button 
          @click="setModule('quantifiers')"
          :class="['p-4 rounded-lg transition-all border-2', 
                   currentModule === 'quantifiers' ? 'bg-purple-600 border-purple-400 text-white' : 'bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600']"
        >
          <div class="text-2xl mb-2">ğŸ”¢</div>
          <div class="text-sm font-semibold">é‡è¯</div>
        </button>
        <button 
          @click="setModule('groups')"
          :class="['p-4 rounded-lg transition-all border-2', 
                   currentModule === 'groups' ? 'bg-red-600 border-red-400 text-white' : 'bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600']"
        >
          <div class="text-2xl mb-2">ğŸ”—</div>
          <div class="text-sm font-semibold">åˆ†ç»„</div>
        </button>
      </div>
    </div>

    <!-- åŸºç¡€è¯­æ³•æ¨¡å— -->
    <div v-if="currentModule === 'basics'" class="space-y-6">
      <div class="bg-gray-800 rounded-lg p-6">
        <h4 class="text-lg font-semibold text-cyan-400 mb-4">ğŸ”¤ åŸºç¡€è¯­æ³•</h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">å­—é¢é‡åŒ¹é…</div>
              <div class="concept-regex">hello</div>
              <div class="concept-desc">åŒ¹é…å­—ç¬¦ä¸² "hello"</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">hello</span> world, say <span class="match-highlight">hello</span>
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">è½¬ä¹‰å­—ç¬¦</div>
              <div class="concept-regex">\.</div>
              <div class="concept-desc">åŒ¹é…å­—é¢é‡ç‚¹å·</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  file<span class="match-highlight">.</span>txt and data<span class="match-highlight">.</span>json
                </div>
              </div>
            </div>
          </div>
          
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">ä»»æ„å­—ç¬¦</div>
              <div class="concept-regex">h.llo</div>
              <div class="concept-desc">ç‚¹å·åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">hello</span>, <span class="match-highlight">hallo</span>, <span class="match-highlight">hillo</span>
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">é”šç‚¹</div>
              <div class="concept-regex">^start | end$</div>
              <div class="concept-desc">è¡Œé¦–å’Œè¡Œå°¾åŒ¹é…</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">start</span> of line<br>
                  middle content<br>
                  line <span class="match-highlight">end</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å­—ç¬¦ç±»æ¨¡å— -->
    <div v-if="currentModule === 'charclass'" class="space-y-6">
      <div class="bg-gray-800 rounded-lg p-6">
        <h4 class="text-lg font-semibold text-cyan-400 mb-4">ğŸ“ å­—ç¬¦ç±»</h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">å­—ç¬¦èŒƒå›´</div>
              <div class="concept-regex">[a-z]</div>
              <div class="concept-desc">åŒ¹é…å°å†™å­—æ¯</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">h</span><span class="match-highlight">e</span><span class="match-highlight">l</span><span class="match-highlight">l</span><span class="match-highlight">o</span> WORLD 123
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">æ•°å­—å­—ç¬¦</div>
              <div class="concept-regex">[0-9] æˆ– \d</div>
              <div class="concept-desc">åŒ¹é…æ•°å­—å­—ç¬¦</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  Phone: <span class="match-highlight">1</span><span class="match-highlight">2</span><span class="match-highlight">3</span>-<span class="match-highlight">4</span><span class="match-highlight">5</span><span class="match-highlight">6</span>-<span class="match-highlight">7</span><span class="match-highlight">8</span><span class="match-highlight">9</span><span class="match-highlight">0</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">å•è¯å­—ç¬¦</div>
              <div class="concept-regex">\w</div>
              <div class="concept-desc">åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">user_name</span>@<span class="match-highlight">domain</span>.<span class="match-highlight">com</span>
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">å¦å®šå­—ç¬¦ç±»</div>
              <div class="concept-regex">[^0-9]</div>
              <div class="concept-desc">åŒ¹é…éæ•°å­—å­—ç¬¦</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">a</span><span class="match-highlight">b</span><span class="match-highlight">c</span>123<span class="match-highlight">d</span><span class="match-highlight">e</span><span class="match-highlight">f</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- é‡è¯æ¨¡å— -->
    <div v-if="currentModule === 'quantifiers'" class="space-y-6">
      <div class="bg-gray-800 rounded-lg p-6">
        <h4 class="text-lg font-semibold text-cyan-400 mb-4">ğŸ”¢ é‡è¯</h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">é›¶æ¬¡æˆ–å¤šæ¬¡</div>
              <div class="concept-regex">a*</div>
              <div class="concept-desc">åŒ¹é…0ä¸ªæˆ–å¤šä¸ª'a'</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">a</span>bc <span class="match-highlight">aa</span>bc <span class="match-highlight">aaa</span>bc <span class="match-highlight"></span>bc
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">ä¸€æ¬¡æˆ–å¤šæ¬¡</div>
              <div class="concept-regex">a+</div>
              <div class="concept-desc">åŒ¹é…1ä¸ªæˆ–å¤šä¸ª'a'</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">a</span>bc <span class="match-highlight">aa</span>bc <span class="match-highlight">aaa</span>bc bc
                </div>
              </div>
            </div>
          </div>
          
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">é›¶æ¬¡æˆ–ä¸€æ¬¡</div>
              <div class="concept-regex">a?</div>
              <div class="concept-desc">åŒ¹é…0ä¸ªæˆ–1ä¸ª'a'</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">a</span>bc <span class="match-highlight">a</span>abc <span class="match-highlight"></span>bc
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">ç²¾ç¡®æ¬¡æ•°</div>
              <div class="concept-regex">a{3}</div>
              <div class="concept-desc">åŒ¹é…æ°å¥½3ä¸ª'a'</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  a aa <span class="match-highlight">aaa</span> aaaa
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- åˆ†ç»„æ¨¡å— -->
    <div v-if="currentModule === 'groups'" class="space-y-6">
      <div class="bg-gray-800 rounded-lg p-6">
        <h4 class="text-lg font-semibold text-cyan-400 mb-4">ğŸ”— åˆ†ç»„ä¸æ•è·</h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">æ•è·ç»„</div>
              <div class="concept-regex">(ab)+</div>
              <div class="concept-desc">æ•è·å¹¶é‡å¤åŒ¹é…"ab"</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">ab</span>c <span class="match-highlight">abab</span>c <span class="match-highlight">ababab</span>c
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">éæ•è·ç»„</div>
              <div class="concept-regex">(?:ab)+</div>
              <div class="concept-desc">åˆ†ç»„ä½†ä¸æ•è·</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">ab</span>c <span class="match-highlight">abab</span>c <span class="match-highlight">ababab</span>c
                </div>
              </div>
            </div>
          </div>
          
          <div class="space-y-4">
            <div class="concept-card">
              <div class="concept-title">é€‰æ‹©</div>
              <div class="concept-regex">cat|dog</div>
              <div class="concept-desc">åŒ¹é…"cat"æˆ–"dog"</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  I have a <span class="match-highlight">cat</span> and a <span class="match-highlight">dog</span>
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-title">åå‘å¼•ç”¨</div>
              <div class="concept-regex">(\\w+)\\s+\\1</div>
              <div class="concept-desc">åŒ¹é…é‡å¤çš„å•è¯</div>
              <div class="concept-example">
                <div class="text-sm text-gray-400 mb-2">ç¤ºä¾‹æ–‡æœ¬:</div>
                <div class="example-text">
                  <span class="match-highlight">hello hello</span> world <span class="match-highlight">test test</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å®æ—¶æµ‹è¯•åŒºåŸŸ -->
    <div class="bg-gray-800 rounded-lg p-6">
      <h4 class="text-lg font-semibold text-cyan-400 mb-4">ğŸ§ª å®æ—¶æµ‹è¯•</h4>
      <div class="space-y-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">æ­£åˆ™è¡¨è¾¾å¼</label>
            <input 
              v-model="testRegex" 
              type="text" 
              class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white font-mono"
              placeholder="è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚: [a-z]+"
              @input="updateMatches"
            >
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">æ ‡å¿—</label>
            <div class="flex space-x-4">
              <label class="flex items-center">
                <input 
                  v-model="regexFlags.global" 
                  type="checkbox" 
                  class="mr-2"
                  @change="updateMatches"
                >
                <span class="text-sm">g (å…¨å±€)</span>
              </label>
              <label class="flex items-center">
                <input 
                  v-model="regexFlags.ignoreCase" 
                  type="checkbox" 
                  class="mr-2"
                  @change="updateMatches"
                >
                <span class="text-sm">i (å¿½ç•¥å¤§å°å†™)</span>
              </label>
              <label class="flex items-center">
                <input 
                  v-model="regexFlags.multiline" 
                  type="checkbox" 
                  class="mr-2"
                  @change="updateMatches"
                >
                <span class="text-sm">m (å¤šè¡Œ)</span>
              </label>
            </div>
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">æµ‹è¯•æ–‡æœ¬</label>
          <textarea 
            v-model="testText" 
            rows="4" 
            class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white font-mono"
            placeholder="è¾“å…¥è¦æµ‹è¯•çš„æ–‡æœ¬"
            @input="updateMatches"
          ></textarea>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">åŒ¹é…ç»“æœ</label>
          <div class="bg-gray-700 rounded-md p-3 min-h-[100px]">
            <div v-if="matchError" class="text-red-400 text-sm">
              âŒ æ­£åˆ™è¡¨è¾¾å¼é”™è¯¯: {{ matchError }}
            </div>
            <div v-else-if="matches.length === 0" class="text-gray-400 text-sm">
              æ— åŒ¹é…ç»“æœ
            </div>
            <div v-else class="space-y-2">
              <div class="text-sm text-green-400 mb-2">
                æ‰¾åˆ° {{ matches.length }} ä¸ªåŒ¹é…:
              </div>
              <div 
                v-for="(match, index) in matches" 
                :key="index"
                class="match-result"
              >
                <span class="match-index">{{ index + 1 }}.</span>
                <span class="match-text">{{ match.text }}</span>
                <span class="match-position">(ä½ç½®: {{ match.start }}-{{ match.end }})</span>
              </div>
            </div>
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">é«˜äº®é¢„è§ˆ</label>
          <div class="bg-gray-700 rounded-md p-3 min-h-[100px] font-mono text-sm">
            <div v-html="highlightedText" class="whitespace-pre-wrap"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- æ€§èƒ½åˆ†æ -->
    <div class="bg-gray-800 rounded-lg p-6">
      <h4 class="text-lg font-semibold text-cyan-400 mb-4">âš¡ æ€§èƒ½åˆ†æ</h4>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div class="performance-card">
          <div class="performance-title">æ‰§è¡Œæ—¶é—´</div>
          <div class="performance-value">{{ performanceStats.executionTime }}ms</div>
          <div class="performance-desc">æ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œè€—æ—¶</div>
        </div>
        <div class="performance-card">
          <div class="performance-title">å¤æ‚åº¦</div>
          <div class="performance-value" :class="complexityClass">{{ performanceStats.complexity }}</div>
          <div class="performance-desc">ç®—æ³•å¤æ‚åº¦è¯„ä¼°</div>
        </div>
        <div class="performance-card">
          <div class="performance-title">å›æº¯æ¬¡æ•°</div>
          <div class="performance-value">{{ performanceStats.backtrackCount }}</div>
          <div class="performance-desc">ä¼°ç®—å›æº¯æ¬¡æ•°</div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive, computed, watch, onMounted } from 'vue'

// å½“å‰å­¦ä¹ æ¨¡å—
const currentModule = ref('basics')

// æµ‹è¯•ç›¸å…³æ•°æ®
const testRegex = ref('[a-z]+')
const testText = ref('Hello World! This is a test string with 123 numbers.')
const regexFlags = reactive({
  global: true,
  ignoreCase: false,
  multiline: false
})

// åŒ¹é…ç»“æœ
const matches = ref([])
const matchError = ref('')

// æ€§èƒ½ç»Ÿè®¡
const performanceStats = reactive({
  executionTime: 0,
  complexity: 'ä½',
  backtrackCount: 0
})

// é«˜äº®æ˜¾ç¤ºçš„æ–‡æœ¬
const highlightedText = computed(() => {
  if (!testText.value || !testRegex.value || matchError.value) {
    return testText.value
  }
  
  let result = testText.value
  let offset = 0
  
  // æŒ‰ä½ç½®å€’åºæ’åˆ—ï¼Œé¿å…ä½ç½®åç§»
  const sortedMatches = [...matches.value].sort((a, b) => b.start - a.start)
  
  for (const match of sortedMatches) {
    const before = result.substring(0, match.start)
    const matchText = result.substring(match.start, match.end)
    const after = result.substring(match.end)
    
    result = before + `<span class="match-highlight">${matchText}</span>` + after
  }
  
  return result
})

// å¤æ‚åº¦æ ·å¼ç±»
const complexityClass = computed(() => {
  switch (performanceStats.complexity) {
    case 'ä½': return 'text-green-400'
    case 'ä¸­': return 'text-yellow-400'
    case 'é«˜': return 'text-red-400'
    default: return 'text-gray-400'
  }
})

// è®¾ç½®å­¦ä¹ æ¨¡å—
const setModule = (module) => {
  currentModule.value = module
  
  // æ ¹æ®æ¨¡å—è®¾ç½®ç¤ºä¾‹
  switch (module) {
    case 'basics':
      testRegex.value = 'hello'
      testText.value = 'hello world, say hello again'
      break
    case 'charclass':
      testRegex.value = '[a-z]+'
      testText.value = 'Hello World 123 test_string'
      break
    case 'quantifiers':
      testRegex.value = 'a+'
      testText.value = 'a aa aaa aaaa b bb bbb'
      break
    case 'groups':
      testRegex.value = '(\\w+)@(\\w+\\.\\w+)'
      testText.value = 'Contact: user@example.com or admin@test.org'
      break
  }
  
  updateMatches()
}

// æ›´æ–°åŒ¹é…ç»“æœ
const updateMatches = () => {
  if (!testRegex.value || !testText.value) {
    matches.value = []
    matchError.value = ''
    return
  }
  
  try {
    const startTime = performance.now()
    
    // æ„å»ºæ­£åˆ™è¡¨è¾¾å¼æ ‡å¿—
    let flags = ''
    if (regexFlags.global) flags += 'g'
    if (regexFlags.ignoreCase) flags += 'i'
    if (regexFlags.multiline) flags += 'm'
    
    const regex = new RegExp(testRegex.value, flags)
    const newMatches = []
    
    if (regexFlags.global) {
      let match
      while ((match = regex.exec(testText.value)) !== null) {
        newMatches.push({
          text: match[0],
          start: match.index,
          end: match.index + match[0].length
        })
        
        // é˜²æ­¢æ— é™å¾ªç¯
        if (match[0].length === 0) break
      }
    } else {
      const match = regex.exec(testText.value)
      if (match) {
        newMatches.push({
          text: match[0],
          start: match.index,
          end: match.index + match[0].length
        })
      }
    }
    
    matches.value = newMatches
    matchError.value = ''
    
    const endTime = performance.now()
    performanceStats.executionTime = Math.round((endTime - startTime) * 1000) / 1000
    
    // åˆ†æå¤æ‚åº¦
    analyzeComplexity()
    
  } catch (error) {
    matches.value = []
    matchError.value = error.message
    performanceStats.executionTime = 0
  }
}

// åˆ†ææ­£åˆ™è¡¨è¾¾å¼å¤æ‚åº¦
const analyzeComplexity = () => {
  const regex = testRegex.value
  
  // ç®€å•çš„å¤æ‚åº¦åˆ†æ
  let complexity = 'ä½'
  let backtrackCount = 0
  
  // æ£€æŸ¥å¯èƒ½å¯¼è‡´å›æº¯çš„æ¨¡å¼
  if (regex.includes('*') || regex.includes('+')) {
    backtrackCount += 10
  }
  
  if (regex.includes('?')) {
    backtrackCount += 5
  }
  
  if (regex.includes('|')) {
    backtrackCount += 15
  }
  
  // åµŒå¥—é‡è¯
  if (regex.match(/(\*|\+|\?).+(\*|\+|\?)/)) {
    backtrackCount += 20
    complexity = 'ä¸­'
  }
  
  // å¤æ‚çš„å‰ç»/åç»
  if (regex.includes('(?=') || regex.includes('(?!') || regex.includes('(?<=') || regex.includes('(?<!')) {
    backtrackCount += 25
    complexity = 'é«˜'
  }
  
  // å¤§é‡çš„åˆ†ç»„
  const groupCount = (regex.match(/\(/g) || []).length
  if (groupCount > 3) {
    backtrackCount += groupCount * 5
    complexity = 'ä¸­'
  }
  
  if (backtrackCount > 50) {
    complexity = 'é«˜'
  } else if (backtrackCount > 20) {
    complexity = 'ä¸­'
  }
  
  performanceStats.complexity = complexity
  performanceStats.backtrackCount = backtrackCount
}

// ç›‘å¬å˜åŒ–
watch([testRegex, testText], updateMatches)

onMounted(() => {
  updateMatches()
})
</script>

<style scoped>
/* æ¦‚å¿µå¡ç‰‡æ ·å¼ */
.concept-card {
  @apply bg-gray-700 rounded-lg p-4 border border-gray-600;
}

.concept-title {
  @apply text-lg font-semibold text-yellow-400 mb-2;
}

.concept-regex {
  @apply bg-black rounded px-3 py-2 font-mono text-cyan-400 text-sm mb-2;
}

.concept-desc {
  @apply text-gray-300 text-sm mb-3;
}

.concept-example {
  @apply space-y-2;
}

.example-text {
  @apply bg-gray-800 rounded px-3 py-2 font-mono text-sm;
}

/* åŒ¹é…é«˜äº® */
.match-highlight {
  @apply bg-yellow-500 text-black px-1 rounded;
}

/* åŒ¹é…ç»“æœæ ·å¼ */
.match-result {
  @apply flex items-center space-x-2 text-sm;
}

.match-index {
  @apply text-cyan-400 font-mono;
}

.match-text {
  @apply bg-yellow-500 text-black px-2 py-1 rounded font-mono;
}

.match-position {
  @apply text-gray-400 text-xs;
}

/* æ€§èƒ½å¡ç‰‡æ ·å¼ */
.performance-card {
  @apply bg-gray-700 rounded-lg p-4 text-center;
}

.performance-title {
  @apply text-sm text-gray-300 mb-2;
}

.performance-value {
  @apply text-2xl font-bold mb-1;
}

.performance-desc {
  @apply text-xs text-gray-400;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .grid {
    @apply grid-cols-1;
  }
}
</style> 